<?xml version="1.0" encoding="UTF-8"?>
<tsl author="Erik van der Weijden" id="ticket/InitUpdatePerson" notes="" repository="$Id$" xmlns="http://www.dexels.com/navascript"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.dexels.com/navascript http://www.dexels.com/schema/navascript.xsd ">
    <methods>
        <method name="ticket/ProcessUpdatePerson" />
    </methods>
    <message name="Person">
        <property name="PersonId" type="selection" direction="in" description="Selecteer persoon" >
            <option name="-" value="-1" selected="1" />
        </property>
        <map object="com.dexels.navajo.adapter.SQLMap">
            <field name="datasource">
                <expression value="'ticket'" />
            </field>
            <field name="query">
                <expression xml:space="preserve">
                SELECT personid, firstname, lastname FROM person
            </expression>
            </field>
            <property name="PersonId" type="selection" direction="in">
                <map ref="resultSet">
                    <property name="name">
                        <expression value="$columnValue('firstname') + ' ' + $columnValue('lastname')" />
                    </property>
                    <property name="value">
                        <expression value="$columnValue('personid')" />
                    </property>
                </map>
            </property>
        </map>
        <!--         <message name="NewPersonData">  -->
        <property name="FirstName" type="string" direction="in" description="Nieuwe voornaam" />
        <property name="Initials" type="string" direction="in" description="Nieuwe initialen" />
        <property name="Infix" type="string" direction="in" description="Nieuwe infix" />
        <property name="LastName" type="string" direction="in" description="Nieuwe achternaam" />
        <property name="Tel" type="string" direction="in" description="Nieuw telefoonnummer" />
        <property name="Email" type="string" direction="in" description="Nieuwe email." />
        <property name="SupportGroupId" type="selection" direction="in" description="supportgroep">
            <option name="-" value="-1" selected="1" />
        </property>
        <map object="com.dexels.navajo.adapter.SQLMap">
            <field name="datasource">
                <expression value="'ticket'" />
            </field>
            <field name="query">
                <expression xml:space="preserve">
                SELECT supportgroupid, supportgroupname FROM supportgroup order by supportgroupname
            </expression>
            </field>
            <property name="SupportGroupId" type="selection" direction="in">
                <map ref="resultSet">
                    <property name="name">
                        <expression value="$columnValue('supportgroupname')" />
                    </property>
                    <property name="value">
                        <expression value="$columnValue('supportgroupid')" />
                    </property>
                </map>
            </property>
        </map>
        <property name="Organization" type="selection" direction="in" description="organizatie">
            <option name="-" value="-1" selected="1" />
        </property>
        <map object="com.dexels.navajo.adapter.SQLMap">
            <field name="datasource">
                <expression value="'ticket'" />
            </field>
            <field name="query">
                <expression xml:space="preserve">
                SELECT organizationid, organizationname FROM organization order by organizationname
            </expression>
            </field>
            <property name="Organization" type="selection" direction="in">
                <map ref="resultSet">
                    <property name="name">
                        <expression value="$columnValue('organizationname')" />
                    </property>
                    <property name="value">
                        <expression value="$columnValue('organizationid')" />
                    </property>
                </map>
            </property>
        </map>
        <property name="OrganizationRole" type="string" direction="in" description="rol in de organisatie" />
    </message>
  <!--    </message> -->
</tsl>