<%@ page language="java" contentType="text/html; charset=ISO-8859-1" pageEncoding="ISO-8859-1"%>
<%@page import="java.io.*"%>
<%@page import="java.net.*"%>
<%@page import="java.util.*"%>
<%@ taglib prefix="c" uri="../WEB-INF/tags/c.tld"%>
<%@ taglib prefix="nav" uri="../WEB-INF/tags/navajo.tld"%>
<%@ page import="com.dexels.navajo.jsp.NavajoContext"%>
<jsp:useBean id="navajoContext" class="com.dexels.navajo.jsp.NavajoContext" scope="session" />	  
<!-- web.xml : generated by JHighlight v1.0 (http://jhighlight.dev.java.net) -->
<!-- WriteServiceTag.java : generated by JHighlight v1.0 (http://jhighlight.dev.java.net) -->
<span class="java_keyword">package</span><span class="java_plain">&nbsp;com</span><span class="java_separator">.</span><span class="java_plain">dexels</span><span class="java_separator">.</span><span class="java_plain">navajo</span><span class="java_separator">.</span><span class="java_plain">jsp</span><span class="java_separator">.</span><span class="java_plain">tags</span><span class="java_separator">;</span><span class="java_plain"></span><br />
<span class="java_plain"></span><br />
<span class="java_keyword">import</span><span class="java_plain">&nbsp;java</span><span class="java_separator">.</span><span class="java_plain">io</span><span class="java_separator">.</span><span class="java_type">IOException</span><span class="java_separator">;</span><span class="java_plain"></span><br />
<span class="java_keyword">import</span><span class="java_plain">&nbsp;java</span><span class="java_separator">.</span><span class="java_plain">util</span><span class="java_separator">.</span><span class="java_type">List</span><span class="java_separator">;</span><span class="java_plain"></span><br />
<span class="java_plain"></span><br />
<span class="java_keyword">import</span><span class="java_plain">&nbsp;javax</span><span class="java_separator">.</span><span class="java_plain">servlet</span><span class="java_separator">.</span><span class="java_plain">jsp</span><span class="java_separator">.</span><span class="java_type">JspException</span><span class="java_separator">;</span><span class="java_plain"></span><br />
<span class="java_plain"></span><br />
<span class="java_keyword">import</span><span class="java_plain">&nbsp;com</span><span class="java_separator">.</span><span class="java_plain">dexels</span><span class="java_separator">.</span><span class="java_plain">navajo</span><span class="java_separator">.</span><span class="java_plain">client</span><span class="java_separator">.</span><span class="java_type">ClientException</span><span class="java_separator">;</span><span class="java_plain"></span><br />
<span class="java_keyword">import</span><span class="java_plain">&nbsp;com</span><span class="java_separator">.</span><span class="java_plain">dexels</span><span class="java_separator">.</span><span class="java_plain">navajo</span><span class="java_separator">.</span><span class="java_plain">document</span><span class="java_separator">.</span><span class="java_type">Message</span><span class="java_separator">;</span><span class="java_plain"></span><br />
<span class="java_keyword">import</span><span class="java_plain">&nbsp;com</span><span class="java_separator">.</span><span class="java_plain">dexels</span><span class="java_separator">.</span><span class="java_plain">navajo</span><span class="java_separator">.</span><span class="java_plain">document</span><span class="java_separator">.</span><span class="java_type">Navajo</span><span class="java_separator">;</span><span class="java_plain"></span><br />
<span class="java_keyword">import</span><span class="java_plain">&nbsp;com</span><span class="java_separator">.</span><span class="java_plain">dexels</span><span class="java_separator">.</span><span class="java_plain">navajo</span><span class="java_separator">.</span><span class="java_plain">document</span><span class="java_separator">.</span><span class="java_type">NavajoException</span><span class="java_separator">;</span><span class="java_plain"></span><br />
<span class="java_plain"></span><br />
<span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_keyword">class</span><span class="java_plain">&nbsp;</span><span class="java_type">WriteServiceTag</span><span class="java_plain">&nbsp;</span><span class="java_keyword">extends</span><span class="java_plain">&nbsp;</span><span class="java_type">BaseNavajoTag</span><span class="java_plain">&nbsp;&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span><br />
<span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">private</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;myService</span><span class="java_separator">;</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">private</span><span class="java_plain">&nbsp;</span><span class="java_type">boolean</span><span class="java_plain">&nbsp;includeProperties&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_literal">false</span><span class="java_separator">;</span><span class="java_plain"></span><br />
<span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">boolean</span><span class="java_plain">&nbsp;isIncludeProperties</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">return</span><span class="java_plain">&nbsp;includeProperties</span><span class="java_separator">;</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span><br />
<span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">void</span><span class="java_plain">&nbsp;setIncludeProperties</span><span class="java_separator">(</span><span class="java_type">boolean</span><span class="java_plain">&nbsp;includeProperties</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">this</span><span class="java_separator">.</span><span class="java_plain">includeProperties&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;includeProperties</span><span class="java_separator">;</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span><br />
<span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">void</span><span class="java_plain">&nbsp;setService</span><span class="java_separator">(</span><span class="java_type">String</span><span class="java_plain">&nbsp;service</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;myService&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;service</span><span class="java_separator">;</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span><br />
<span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">int</span><span class="java_plain">&nbsp;doStartTag</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_keyword">throws</span><span class="java_plain">&nbsp;</span><span class="java_type">JspException</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">try</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">Navajo</span><span class="java_plain">&nbsp;n</span><span class="java_separator">;</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">if</span><span class="java_plain">&nbsp;</span><span class="java_separator">(</span><span class="java_plain">myService&nbsp;</span><span class="java_operator">==</span><span class="java_plain">&nbsp;</span><span class="java_literal">null</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;getNavajoContext</span><span class="java_separator">().</span><span class="java_plain">getNavajo</span><span class="java_separator">();</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain">&nbsp;</span><span class="java_keyword">else</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;getNavajoContext</span><span class="java_separator">().</span><span class="java_plain">getNavajo</span><span class="java_separator">(</span><span class="java_plain">myService</span><span class="java_separator">);</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getNavajoContext</span><span class="java_separator">().</span><span class="java_plain">writeService</span><span class="java_separator">(</span><span class="java_plain">n</span><span class="java_separator">,</span><span class="java_plain">getPageContext</span><span class="java_separator">(),</span><span class="java_plain">isIncludeProperties</span><span class="java_separator">());</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain">&nbsp;</span><span class="java_keyword">catch</span><span class="java_plain">&nbsp;</span><span class="java_separator">(</span><span class="java_type">IOException</span><span class="java_plain">&nbsp;e</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_comment">//&nbsp;TODO&nbsp;Auto-generated&nbsp;catch&nbsp;block</span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e</span><span class="java_separator">.</span><span class="java_plain">printStackTrace</span><span class="java_separator">();</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span><br />
<span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">return</span><span class="java_plain">&nbsp;EVAL_BODY_INCLUDE</span><span class="java_separator">;</span><span class="java_plain"></span><br />
<span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain"></span><br />
<span class="java_plain"></span><br />
<span class="java_separator">}</span><span class="java_plain"></span><br />
