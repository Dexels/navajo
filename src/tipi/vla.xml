<tid errorhandler="error">
  <tipi-include location="classdef.xml"/>
  <screen-instance name="init" fullscreen="true" title="TIPI V.L.A. Extra creamy!"/>

  <tipi name="init" class="screen">
    <tipi-instance name="desktop" class="desktop">
      <tipi-instance name="mainFrame" id="mainFrame" closable="true" resizable="true" visible="false"/>
      <tipi-instance name="memberFrame" x="700" y="500" id="memberFrame" visible="false"/>
      <tipi-instance name="query" id="query" visible="true"/>
    </tipi-instance>
  </tipi>

  <tipi name="query" title="Login"  visible="true" class="window" service="vla/InitVLAQueryMembers" autoload="vla/InitVLAQueryMembers" x="100" y="100" w="400" h="200">
    <layout type="table">
      <tr>
        <td><component-instance name="/QueryMembers/OrganizationId" class="property"/></td>
        <td weighty="0"><component-instance name="bert" text="Login"/></td>
      </tr>
    </layout><!---
    <layout type="border">
      <component-instance name="bert" constraints="center"/>
    </layout>-->
  </tipi>

  <component name="bert" class="button">
    <event type="onActionPerformed">
      <action type="performMethod">
        <param name="tipipath" value="/desktop/query"/>
        <param name="method" value="vla/ProcessVLAQueryMembers"/>
      </action>
      <action type="setVisible">
        <param name="tipipath" value="/desktop/mainFrame"/>
        <param name="value" value="true"/>
      </action>
      <action type="setVisible">
        <param name="tipipath" value="/desktop/query"/>
        <param name="value" value="false"/>
      </action>
    </event>
  </component>

  <tipi name="editmember" visible="true" class="tipi" h="600" w="800" title="Lidgegevens" closable="true" resizable="true">
    <layout type="border">
      <tipi-instance name="tabs" class="tabs" constraint=" ">
        <tipi-instance name="memberdata" class="tipi" constraint="lid"/>
      </tipi-instance>
    </layout>
  </tipi>

  <tipi name="mainFrame" class="window" w="800" h="600" title="VLA Hoofdscherm">
    <layout type="border">
        <tipi-instance orientation="horizontal" name="toolbar" constraint="north" class="toolbar">
          <component-instance name="newMemberButton" class="button" text="Nieuw lid" icon="VLANew.gif"/>
          <component-instance name="printButton" class="button" text="Printen doe je zo!" icon="VLAPrint.gif"/>
          <component-instance name="exportButton" class="button" text="Exporteren" icon="VLAExport.gif"/>
          <component-instance name="transferButton" class="button" text="Gegevens uitwisselen" icon="VLACommunicate.gif"/>
          <component-instance name="searchButton" class="button" text="Zoeken" icon="VLASearch.gif"/>
        </tipi-instance>
        <tipi-instance name="overview" class="tipitable" constraint="center" messagepath="/Members" service="vla/ProcessVLAQueryMembers;">
          <column name="Status" label="Status"/>
          <column name="PersonId" label="Id"/>
          <column name="MemberIdentifier" label="Relatienummer"/>
          <column name="LastName" label="Naam"/>
          <column name="Infix" label="Tussenvoegsel"/>
          <column name="MaidenName" label="Meisjesnaam"/>
          <!--<column name="FirstInitials" label="Voorletters"/>-->
          <column name="FirstName" label="Voornaam"/>
          <column name="BirthDate" label="Geboren"/>
          <column name="Gender" label="Geslacht"/>
          <column name="StreetName" label="Straat"/>
          <column name="AddressNumber" label="Huisnummer"/>
          <column name="AddressNumberAppendix" label="Huisnr. toev."/>
          <column name="City" label="Woonplaats"/>
          <column name="ZipCode" label="Postcode"/>
          <column name="AddressCountryCode" label="Land"/>
          <column name="HomePhone" label="Telefoon"/>
          <column name="EmailAddress" label="Email"/>
          <event type="onActionPerformed">
            <action type="performMethod">
              <param name="tipipath" value="/desktop/memberFrame/tabs"/>
              <param name="method" value="vla/InitVLAUpdateMember"/>
            </action>
            <action type="copyValueToMessage" >
              <param name="from_path" value="/desktop/mainFrame/overview"/>
              <param name="from_name" value="selectedMessage:PersonId"/>
              <param name="to_path" value="/desktop/memberFrame/tabs:/QueryUpdateMember/PersonId"/>
            </action>
            <action type="performMethod">
              <param name="tipipath" value="/desktop/memberFrame/tabs/memberpersonaldata"/>
              <param name="method" value="vla/ProcessVLAQueryMember"/>
            </action>
            <action type="setVisible">
              <param name="tipipath" value="/desktop/memberFrame"/>
              <param name="value" value="true"/>
            </action>
          </event>
        </tipi-instance>
      </layout>
  </tipi>

  <tipi name="memberFrame" class="window" w="800" h="600" title="Lidgegevens">
    <tipi-instance name="tabs" class="tabs" service="vla/InitVLAUpdateMember;vla/ProcessVLAQueryMember;vla/ProcessVLAGetClubMemberships;vla/ProcessVLAQueryClubTrainer;vla/ProcessVLAQueryMemberFunctions">
      <tipi-instance name="member_status" class="tipi" prefix="/MemberData" constraint="Status">
        <layout type="table">
          <tr>
            <td><component-instance class="property" name="MemberIdentifier"/></td>
          </tr>
          <tr>
            <td><component-instance class="property" name="RegistrationDate"/></td>
          </tr>
          <tr>
            <td><component-instance class="property" name="DeregistrationDate"/></td>
          </tr>
          <tr>
            <td><component-instance class="property" name="Status"/></td>
          </tr>
          <tr>
            <td><component-instance class="property" name="ProcessingDate"/></td>
          </tr>
          <tr>
            <td><component-instance class="property" name="ProcessedDate"/></td>
          </tr>
        </layout>
      </tipi-instance>

      <tipi-instance name="memberpersonaldata" class="tipi" prefix="/MemberData"  constraint="Persoon">
        <layout type="table">
          <tr>
            <td colspan="2"><component-instance class="property" name="LastName"/></td>
          </tr>
          <tr>
            <td><component-instance class="property" name="FirstName"/></td>
            <td><component-instance class="property" name="FirstInitials"/></td>
          </tr>
          <tr>
            <td><component-instance class="property" name="Infix"/></td>
          </tr>
          <tr>
            <td><component-instance class="property" name="Gender"/></td>
          </tr>
          <tr>
            <td><component-instance class="property" name="BirthDate"/></td>
          </tr>
          <tr>
            <td colspan="2"><component-instance class="property" name="BirthPlace"/></td>
          </tr>
          <tr>
            <td colspan="2"><component-instance class="property" name="Nationality"/></td>
          </tr>
          <tr>
            <td colspan="2"><component-instance class="property" name="IdentificationType"/></td>
          </tr>
          <tr>
            <td colspan="2"><component-instance class="property" name="IdentificationNumber"/></td>
          </tr>
          <tr>
            <td colspan="2"><component-instance class="property" name="StreetName"/></td>
          </tr>
          <tr>
            <td><component-instance class="property" name="AddressNumber"/></td>
            <td><component-instance class="property" name="AddressNumberAppendix"/></td>
          </tr>
          <tr>
            <td><component-instance class="property" name="ZipCode"/></td>
          </tr>
          <tr>
            <td colspan="2"><component-instance class="property" name="City"/></td>
          </tr>
          <tr>
             <td colspan="2"><component-instance class="property" name="AddressCountryCode"/></td>
           </tr>
           <tr>
             <td><component-instance class="property" name="HomePhone"/></td>
          </tr>
       </layout>
      </tipi-instance>

      <tipi-instance name="membersportdetails" class="tipi" prefix="/MemberData" constraint="Activiteiten">
        <layout type="table">
          <tr>
            <td><component-instance class="property" name="isSaturdayMember"/></td>
          </tr>
          <tr>
            <td><component-instance class="property" name="isSundayMember"/></td>
          </tr>
          <tr>
            <td><component-instance class="property" name="isNonPlayingMember"/></td>
          </tr>
          <tr>
            <td><component-instance class="property" name="isFutsalMember"/></td>
          </tr>
          <tr>
            <td><component-instance class="property" name="isRecreationalMember"/></td>
          </tr>
          <tr>
            <td><component-instance class="property" name="isBZAMember"/></td>
          </tr>
          <tr>
            <td><component-instance class="property" name="isHonoraryMember"/></td>
          </tr>
          <tr>
            <td><component-instance class="property" name="OtherSport"/></td>
          </tr>
          <tr>
            <td><component-instance class="property" name="Trainer"/></td>
          </tr>
          <tr>
            <td><component-instance class="property" name="AgeGroup"/></td>
          </tr>
        </layout>
      </tipi-instance>

      <tipi-instance name="memberfunctions" class="tipi" prefix="/MemberData" constraint="Functies">
        <layout type="table">
          <tr>
            <td colspan="3">
               <tipi-instance class="tipitable" name="memberfunctionstable">
               <column name="MemberFunction" label="Vereniginsfunctie"/>
            </tipi-instance>
           </td>
          </tr>
          <tr>
            <td><component-instance class="hidden"/></td>
            <td><compopnent-instance class="button" name="insertFunctionButton"/></td>
            <td><compopnent-instance class="button" name="deleteFunctionButton"/></td>
          </tr>
        </layout>
      </tipi-instance>

      <tipi-instance name="memberfinan" class="tipi" prefix="/MemberData" constraint="Financieel">
        <layout type="table">
          <tr>
            <td>
              <tipi-instance name="membershiptable" class="tipitable" prefix="/MemberData">
                <column name="ClubName" label="Vereniging"/>
                <column name="Region" label="District"/>
               </tipi-instance>
            </td>
          </tr>
          <tr>
            <td>
              <tipi-instance name="memberfinancialdata" class="tipi" prefix="/MemberData">
                <layout type="table">
                <tr>
                  <td><component-instance class="property" name="BankAccountNumber"/></td>
                </tr>
                <tr>
                  <td><component-instance class="property" name="Ascription"/></td>
                </tr>
                <tr>
                  <td><component-instance class="property" name="AscriptionPlace"/></td>
                </tr>
                <tr>
                   <td><component-instance class="property" name="ContributionCode"/></td>
                </tr>
                <tr>
                  <td><component-instance class="property" name="PaymentPeriod"/></td>
                </tr>
                <tr>
                  <td><component-instance class="property" name="PaymentMethod"/></td>
                </tr>
                </layout>
              </tipi-instance>
            </td>
          </tr>
        </layout>
      </tipi-instance>
    </tipi-instance>
  </tipi>

</tid>
