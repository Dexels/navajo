package com.dexels.navajo.tipi.swingclient.components.sort;

/**
 * <p>Title: ShellApplet</p>
 * <p>Description: </p>
 * <p>Copyright: Copyright (c) 2002</p>
 * <p>Company: Dexels </p>
 * @author Frank Lyaruu
 * @version 1.0
 */
import java.util.Comparator;
import java.util.Vector;

public class ColumnSorter implements Comparator<Vector<?>> {
	int colIndex;
	boolean ascending;

	ColumnSorter(int colIndex, boolean ascending) {
		this.colIndex = colIndex;
		this.ascending = ascending;
	}

	@Override
	@SuppressWarnings({ "unchecked", "rawtypes" })
	public int compare(Vector<?> v1, Vector<?> v2) {
		Object o1 = v1.get(colIndex);
		Object o2 = v2.get(colIndex);

		// Treat empty strains like nulls
		if (o1 instanceof String && ((String) o1).length() == 0) {
			o1 = null;
		}
		if (o2 instanceof String && ((String) o2).length() == 0) {
			o2 = null;
		}

		// Sort nulls so they appear last, regardless
		// of sort order
		if (o1 == null && o2 == null) {
			return 0;
		} else if (o1 == null) {
			return 1;
		} else if (o2 == null) {
			return -1;
		} else if (o1 instanceof Comparable<?>) {
			if (ascending) {
				return ((Comparable) o1).compareTo(o2);
			} else {
				return ((Comparable) o2).compareTo(o1);
			}
		} else {
			if (ascending) {
				return o1.toString().compareTo(o2.toString());
			} else {
				return o2.toString().compareTo(o1.toString());
			}
		}
	}
}